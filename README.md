# Тестирование проекта с использованием pytest

Этот проект включает написание тестов для существующего кода с использованием библиотеки **pytest**. Цель — покрыть тестами не менее 80% кода, обеспечивая надёжность и стабильность функционала.

---

## Описание проведённых работ

- Использованы **фикстуры** для подготовки входных данных и окружения тестов, что увеличивает читаемость и повторное использование кода.
- Применена **параметризация** тестов — один тест проверяет разные сценарии и варианты входных данных, что снижает дублирование кода и повышает покрытие.
- Написаны тесты.
- Достигнуто покрытие кода тестами не менее 80% (проверяется с помощью `pytest --cov`).

---

## Как запускать тесты

1. `poetry run pytest --cov`  

---


# Описание функций для работы с транзакциями и номерами карт

## filter_by_currency

Функция фильтрует список транзакций по указанной валюте.

- Принимает:

  - `transactions` — список словарей с транзакциями.
  - `currency` — строка с кодом валюты (например, "USD").

- Возвращает генератор, который отдаёт только те транзакции, где поле `"currency"` совпадает с указанным.
- Использование позволяет эффективно выбирать транзакции нужной валюты без создания лишних списков.

---

## transaction_descriptions

Генератор, который преобразует каждую транзакцию в строковое описание.

- Принимает список транзакций.
- Для каждой транзакции возвращает строку:  

  `Transaction of <amount> <currency> from <from> to <to>`

- Если какого-то поля нет, подставляется `'unknown'` или пустая строка для валюты.
- Удобен для вывода информации о транзакциях в читаемом виде.

---

## card_number_generator

Генератор последовательных номеров банковских карт.

- Принимает два номера карт в формате строки с пробелами:  

  пример: `"0000 0000 0000 0001"` и `"0000 0000 0000 0003"`.

- Конвертирует номера в целые числа, итерируется от start до end включительно.
- Форматирует каждый номер обратно в формат «XXXX XXXX XXXX XXXX».
- Позволяет генерировать последовательности номеров карт с удобным форматированием.

---

## Пример данных

```python
transactions = [
    {"amount": 100, "currency": "USD", "from": "Alice", "to": "Bob"},
    {"amount": 50, "currency": "EUR", "from": "Carol", "to": "Dave"},
    {"amount": 70, "currency": "USD", "from": "Eve", "to": "Frank"},
]